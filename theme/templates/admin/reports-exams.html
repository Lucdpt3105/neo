<!DOCTYPE html>
<html lang="vi">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="Hệ thống Quản lý Học tập">
        <meta name="keywords" content="admin,dashboard,education">
        <meta name="author" content="EduAdmin">
        
        <!-- Title -->
        <title>Thống kê Bài thi - EduAdmin</title>

        <!-- Styles -->
        <link href="https://fonts.googleapis.com/css?family=Poppins:400,500,700,800&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <link href="../../assets/plugins/bootstrap/css/bootstrap.min.css" rel="stylesheet">
        <link href="../../assets/plugins/font-awesome/css/all.min.css" rel="stylesheet">
        <link href="../../assets/plugins/perfectscroll/perfect-scrollbar.css" rel="stylesheet">
        <link href="../../assets/plugins/pace/pace.css" rel="stylesheet">
        <link href="../../assets/plugins/DataTables/datatables.min.css" rel="stylesheet">

        <!-- Theme Styles -->
        <link href="../../assets/css/main.min.css" rel="stylesheet">
        <link href="../../assets/css/custom.css" rel="stylesheet">
    </head>
    <body class="">
        <div class="page-container">
          <div class="page-sidebar">
              <a class="logo" href="index.html"><i class="fas fa-graduation-cap"></i> EduAdmin</a>
              <ul class="list-unstyled accordion-menu">
                <li><a href="index.html"><i data-feather="home"></i>Dashboard</a></li>
                <li>
                  <a href="#"><i data-feather="users"></i>Người dùng<i class="fas fa-chevron-right dropdown-icon"></i></a>
                  <ul><li><a href="students.html"><i class="far fa-circle"></i>Học sinh</a></li><li><a href="teachers.html"><i class="far fa-circle"></i>Giáo viên</a></li><li><a href="admins.html"><i class="far fa-circle"></i>Quản trị viên</a></li></ul>
                </li>
                <li>
                  <a href="#"><i data-feather="book-open"></i>Khóa học<i class="fas fa-chevron-right dropdown-icon"></i></a>
                  <ul><li><a href="courses.html"><i class="far fa-circle"></i>Danh sách khóa học</a></li><li><a href="add-course.html"><i class="far fa-circle"></i>Thêm khóa học</a></li><li><a href="categories.html"><i class="far fa-circle"></i>Danh mục</a></li><li><a href="lessons.html"><i class="far fa-circle"></i>Bài học</a></li></ul>
                </li>
                <li>
                  <a href="#"><i data-feather="edit-3"></i>Hệ thống Thi<i class="fas fa-chevron-right dropdown-icon"></i></a>
                  <ul><li><a href="exams.html"><i class="far fa-circle"></i>Danh sách bài thi</a></li><li><a href="add-exam.html"><i class="far fa-circle"></i>Tạo bài thi</a></li><li><a href="questions.html"><i class="far fa-circle"></i>Ngân hàng câu hỏi</a></li><li><a href="exam-results.html"><i class="far fa-circle"></i>Kết quả thi</a></li></ul>
                </li>
                <li>
                  <a href="#"><i data-feather="message-circle"></i>Diễn đàn<i class="fas fa-chevron-right dropdown-icon"></i></a>
                  <ul><li><a href="forum-topics.html"><i class="far fa-circle"></i>Chủ đề thảo luận</a></li><li><a href="forum-posts.html"><i class="far fa-circle"></i>Bài viết</a></li><li><a href="forum-moderate.html"><i class="far fa-circle"></i>Kiểm duyệt</a></li></ul>
                </li>
                <li>
                  <a href="#"><i data-feather="video"></i>Họp nhóm<i class="fas fa-chevron-right dropdown-icon"></i></a>
                  <ul><li><a href="meetings.html"><i class="far fa-circle"></i>Phòng họp</a></li><li><a href="schedule-meeting.html"><i class="far fa-circle"></i>Lịch họp</a></li><li><a href="meeting-history.html"><i class="far fa-circle"></i>Lịch sử họp</a></li></ul>
                </li>
                <li>
                  <a href="#"><i data-feather="file-text"></i>Tài liệu<i class="fas fa-chevron-right dropdown-icon"></i></a>
                  <ul><li><a href="file-manager.html"><i class="far fa-circle"></i>Quản lý file</a></li><li><a href="upload.html"><i class="far fa-circle"></i>Tải lên</a></li></ul>
                </li>
                <li class="active-page">
                  <a href="#"><i data-feather="bar-chart-2"></i>Báo cáo<i class="fas fa-chevron-right dropdown-icon"></i></a>
                  <ul><li><a href="reports-students.html"><i class="far fa-circle"></i>Thống kê học sinh</a></li><li><a href="reports-courses.html"><i class="far fa-circle"></i>Thống kê khóa học</a></li><li><a href="reports-exams.html" class="active"><i class="far fa-circle"></i>Thống kê bài thi</a></li></ul>
                </li>
                <li>
                  <a href="#"><i data-feather="settings"></i>Cài đặt<i class="fas fa-chevron-right dropdown-icon"></i></a>
                  <ul><li><a href="settings-general.html"><i class="far fa-circle"></i>Cài đặt chung</a></li><li><a href="settings-email.html"><i class="far fa-circle"></i>Email</a></li><li><a href="settings-payment.html"><i class="far fa-circle"></i>Thanh toán</a></li></ul>
                </li>
              </ul>
              <a href="#" id="sidebar-collapsed-toggle"><i data-feather="arrow-right"></i></a>
          </div>
            <div class="page-content">
              <div class="page-header">
                  <nav class="navbar navbar-expand-lg d-flex justify-content-between">
                    <div class="header-title flex-fill">
                      <a href="#" id="sidebar-toggle"><i data-feather="arrow-left"></i></a>
                      <h5>Thống kê Bài thi</h5>
                    </div>
                    <div class="flex-fill" id="headerNav">
                      <ul class="navbar-nav">
                        <li class="nav-item dropdown">
                          <a class="nav-link profile-dropdown" href="#" id="profileDropDown" role="button" data-bs-toggle="dropdown"><img src="../../assets/images/avatars/profile-image.png" alt=""></a>
                          <div class="dropdown-menu dropdown-menu-end profile-drop-menu">
                            <a class="dropdown-item" href="#"><i data-feather="user"></i>Hồ sơ</a>
                            <a class="dropdown-item" href="login.html"><i data-feather="log-out"></i>Đăng xuất</a>
                          </div>
                        </li>
                      </ul>
                    </div>
                  </nav>
              </div>
              <div class="main-wrapper">
                <!-- Stats -->
                <div class="row">
                  <div class="col-lg-3 col-md-6">
                    <div class="card stats-card">
                      <div class="card-body">
                        <div class="stats-info"><h5 class="card-title">156</h5><p class="stats-text">Tổng bài thi</p></div>
                        <div class="stats-icon change-primary"><i class="material-icons">assignment</i></div>
                      </div>
                    </div>
                  </div>
                  <div class="col-lg-3 col-md-6">
                    <div class="card stats-card">
                      <div class="card-body">
                        <div class="stats-info"><h5 class="card-title">4,567</h5><p class="stats-text">Lượt thi</p></div>
                        <div class="stats-icon change-info"><i class="material-icons">edit_note</i></div>
                      </div>
                    </div>
                  </div>
                  <div class="col-lg-3 col-md-6">
                    <div class="card stats-card">
                      <div class="card-body">
                        <div class="stats-info"><h5 class="card-title">7.8/10</h5><p class="stats-text">Điểm TB</p></div>
                        <div class="stats-icon change-success"><i class="material-icons">trending_up</i></div>
                      </div>
                    </div>
                  </div>
                  <div class="col-lg-3 col-md-6">
                    <div class="card stats-card">
                      <div class="card-body">
                        <div class="stats-info"><h5 class="card-title">78%</h5><p class="stats-text">Tỷ lệ đạt</p></div>
                        <div class="stats-icon change-warning"><i class="material-icons">check_circle</i></div>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- Filter -->
                <div class="row mb-4">
                  <div class="col-12">
                    <div class="card">
                      <div class="card-body">
                        <div class="row align-items-end">
                          <div class="col-md-3">
                            <label class="form-label">Môn học</label>
                            <select class="form-select">
                              <option value="">Tất cả</option>
                              <option>Toán</option>
                              <option>Vật lý</option>
                              <option>Hóa học</option>
                              <option>Tiếng Anh</option>
                              <option>Lập trình</option>
                            </select>
                          </div>
                          <div class="col-md-3">
                            <label class="form-label">Loại bài thi</label>
                            <select class="form-select">
                              <option value="">Tất cả</option>
                              <option>Trắc nghiệm</option>
                              <option>Tự luận</option>
                              <option>Tổng hợp</option>
                            </select>
                          </div>
                          <div class="col-md-2">
                            <label class="form-label">Từ ngày</label>
                            <input type="date" class="form-control">
                          </div>
                          <div class="col-md-2">
                            <label class="form-label">Đến ngày</label>
                            <input type="date" class="form-control">
                          </div>
                          <div class="col-md-2">
                            <button class="btn btn-primary w-100"><i class="fas fa-search me-2"></i>Lọc</button>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="row">
                  <!-- Score Trend -->
                  <div class="col-lg-8">
                    <div class="card mb-4">
                      <div class="card-header">
                        <h5 class="card-title mb-0">Xu hướng điểm số</h5>
                      </div>
                      <div class="card-body">
                        <canvas id="scoreTrendChart" height="80"></canvas>
                      </div>
                    </div>

                    <!-- Exam Performance -->
                    <div class="card">
                      <div class="card-header">
                        <h5 class="card-title mb-0">Bài thi theo môn học</h5>
                      </div>
                      <div class="card-body">
                        <div class="table-responsive">
                          <table class="table table-hover">
                            <thead>
                              <tr>
                                <th width="25%">Môn học</th>
                                <th width="15%">Số bài thi</th>
                                <th width="15%">Lượt thi</th>
                                <th width="15%">Điểm TB</th>
                                <th width="15%">Tỷ lệ đạt</th>
                                <th width="15%">Độ khó TB</th>
                              </tr>
                            </thead>
                            <tbody>
                              <tr>
                                <td><strong><i class="fas fa-calculator text-primary me-2"></i>Toán học</strong></td>
                                <td>45</td>
                                <td>1,234</td>
                                <td><span class="badge bg-success">8.2</span></td>
                                <td>
                                  <div class="progress" style="height: 6px;">
                                    <div class="progress-bar bg-success" style="width: 82%"></div>
                                  </div>
                                  <small class="text-muted">82%</small>
                                </td>
                                <td><span class="badge bg-warning">Khó</span></td>
                              </tr>
                              <tr>
                                <td><strong><i class="fas fa-atom text-info me-2"></i>Vật lý</strong></td>
                                <td>38</td>
                                <td>987</td>
                                <td><span class="badge bg-success">7.9</span></td>
                                <td>
                                  <div class="progress" style="height: 6px;">
                                    <div class="progress-bar bg-success" style="width: 79%"></div>
                                  </div>
                                  <small class="text-muted">79%</small>
                                </td>
                                <td><span class="badge bg-warning">Khó</span></td>
                              </tr>
                              <tr>
                                <td><strong><i class="fas fa-flask text-success me-2"></i>Hóa học</strong></td>
                                <td>32</td>
                                <td>856</td>
                                <td><span class="badge bg-info">7.5</span></td>
                                <td>
                                  <div class="progress" style="height: 6px;">
                                    <div class="progress-bar bg-info" style="width: 75%"></div>
                                  </div>
                                  <small class="text-muted">75%</small>
                                </td>
                                <td><span class="badge bg-info">Trung bình</span></td>
                              </tr>
                              <tr>
                                <td><strong><i class="fas fa-language" style="color: #FF8040;" me-2></i>Tiếng Anh</strong></td>
                                <td>28</td>
                                <td>745</td>
                                <td><span class="badge bg-success">8.5</span></td>
                                <td>
                                  <div class="progress" style="height: 6px;">
                                    <div class="progress-bar bg-success" style="width: 85%"></div>
                                  </div>
                                  <small class="text-muted">85%</small>
                                </td>
                                <td><span class="badge bg-info">Trung bình</span></td>
                              </tr>
                              <tr>
                                <td><strong><i class="fas fa-code text-danger me-2"></i>Lập trình</strong></td>
                                <td>13</td>
                                <td>745</td>
                                <td><span class="badge bg-info">7.2</span></td>
                                <td>
                                  <div class="progress" style="height: 6px;">
                                    <div class="progress-bar bg-warning" style="width: 72%"></div>
                                  </div>
                                  <small class="text-muted">72%</small>
                                </td>
                                <td><span class="badge bg-danger">Rất khó</span></td>
                              </tr>
                            </tbody>
                          </table>
                        </div>
                      </div>
                    </div>
                  </div>

                  <!-- Right Column -->
                  <div class="col-lg-4">
                    <!-- Score Distribution -->
                    <div class="card mb-4">
                      <div class="card-header">
                        <h5 class="card-title mb-0">Phân bố điểm</h5>
                      </div>
                      <div class="card-body">
                        <canvas id="scoreDistributionChart"></canvas>
                      </div>
                    </div>

                    <!-- Pass Rate -->
                    <div class="card mb-4">
                      <div class="card-header">
                        <h5 class="card-title mb-0">Tỷ lệ đạt/không đạt</h5>
                      </div>
                      <div class="card-body">
                        <canvas id="passRateChart"></canvas>
                        <div class="mt-3">
                          <div class="d-flex justify-content-between mb-2">
                            <span><i class="fas fa-check-circle text-success me-2"></i>Đạt (≥5.0)</span>
                            <strong>78%</strong>
                          </div>
                          <div class="d-flex justify-content-between">
                            <span><i class="fas fa-times-circle text-danger me-2"></i>Không đạt (<5.0)</span>
                            <strong>22%</strong>
                          </div>
                        </div>
                      </div>
                    </div>

                    <!-- Question Stats -->
                    <div class="card">
                      <div class="card-header">
                        <h5 class="card-title mb-0">Thống kê câu hỏi</h5>
                      </div>
                      <div class="card-body">
                        <ul class="list-group list-group-flush">
                          <li class="list-group-item d-flex justify-content-between px-0">
                            <span><i class="fas fa-list-ul text-primary me-2"></i>Tổng câu hỏi</span>
                            <strong>2,345</strong>
                          </li>
                          <li class="list-group-item d-flex justify-content-between px-0">
                            <span><i class="fas fa-check-square text-success me-2"></i>Trắc nghiệm</span>
                            <strong>1,890</strong>
                          </li>
                          <li class="list-group-item d-flex justify-content-between px-0">
                            <span><i class="fas fa-edit text-info me-2"></i>Tự luận</span>
                            <strong>455</strong>
                          </li>
                          <li class="list-group-item d-flex justify-content-between px-0">
                            <span><i class="fas fa-question-circle text-warning me-2"></i>Độ khó TB</span>
                            <strong>6.5/10</strong>
                          </li>
                        </ul>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- Detailed Table -->
                <div class="row mt-4">
                  <div class="col-12">
                    <div class="card">
                      <div class="card-header d-flex justify-content-between align-items-center">
                        <h5 class="card-title mb-0">Chi tiết bài thi</h5>
                        <div>
                          <button class="btn btn-sm btn-outline-primary me-2"><i class="fas fa-download me-2"></i>Xuất Excel</button>
                          <button class="btn btn-sm btn-outline-secondary"><i class="fas fa-print me-2"></i>In báo cáo</button>
                        </div>
                      </div>
                      <div class="card-body">
                        <div class="table-responsive">
                          <table class="table table-hover" id="examReportTable">
                            <thead>
                              <tr>
                                <th>Tên bài thi</th>
                                <th>Môn học</th>
                                <th>Lượt thi</th>
                                <th>Điểm TB</th>
                                <th>Điểm cao nhất</th>
                                <th>Tỷ lệ đạt</th>
                                <th>Trạng thái</th>
                              </tr>
                            </thead>
                            <tbody>
                              <tr>
                                <td><strong>Kiểm tra giữa kỳ - Toán 12</strong></td>
                                <td>Toán học</td>
                                <td>156</td>
                                <td><span class="badge bg-success">8.2</span></td>
                                <td><span class="badge bg-warning">9.8</span></td>
                                <td>85%</td>
                                <td><span class="badge bg-success">Hoàn thành</span></td>
                              </tr>
                              <tr>
                                <td><strong>Ôn tập Vật lý - Điện học</strong></td>
                                <td>Vật lý</td>
                                <td>134</td>
                                <td><span class="badge bg-success">7.9</span></td>
                                <td><span class="badge bg-warning">9.5</span></td>
                                <td>78%</td>
                                <td><span class="badge bg-success">Hoàn thành</span></td>
                              </tr>
                              <tr>
                                <td><strong>Kiểm tra 15 phút - Hóa hữu cơ</strong></td>
                                <td>Hóa học</td>
                                <td>98</td>
                                <td><span class="badge bg-info">7.5</span></td>
                                <td><span class="badge bg-warning">9.2</span></td>
                                <td>75%</td>
                                <td><span class="badge bg-success">Hoàn thành</span></td>
                              </tr>
                              <tr>
                                <td><strong>IELTS Practice Test - Reading</strong></td>
                                <td>Tiếng Anh</td>
                                <td>89</td>
                                <td><span class="badge bg-success">8.5</span></td>
                                <td><span class="badge bg-warning">9.0</span></td>
                                <td>88%</td>
                                <td><span class="badge bg-success">Hoàn thành</span></td>
                              </tr>
                              <tr>
                                <td><strong>Python Programming Quiz</strong></td>
                                <td>Lập trình</td>
                                <td>67</td>
                                <td><span class="badge bg-info">7.2</span></td>
                                <td><span class="badge bg-warning">9.6</span></td>
                                <td>70%</td>
                                <td><span class="badge bg-info">Đang diễn ra</span></td>
                              </tr>
                            </tbody>
                          </table>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
        </div>

        <!-- Javascripts -->
        <script src="../../assets/plugins/jquery/jquery-3.4.1.min.js"></script>
        <script src="https://unpkg.com/@popperjs/core@2"></script>
        <script src="../../assets/plugins/bootstrap/js/bootstrap.min.js"></script>
        <script src="https://unpkg.com/feather-icons"></script>
        <script src="../../assets/plugins/perfectscroll/perfect-scrollbar.min.js"></script>
        <script src="../../assets/plugins/pace/pace.min.js"></script>
        <script src="../../assets/plugins/DataTables/datatables.min.js"></script>
        <script src="../../assets/plugins/chartjs/chart.bundle.min.js"></script>
        <script src="../../assets/js/main.min.js"></script>
        <script>
          $(document).ready(function() {
            $('#examReportTable').DataTable({
              language: {
                url: '//cdn.datatables.net/plug-ins/1.10.24/i18n/Vietnamese.json'
              }
            });

            // Score Trend Chart
            var ctx1 = document.getElementById('scoreTrendChart').getContext('2d');
            new Chart(ctx1, {
              type: 'line',
              data: {
                labels: ['T1', 'T2', 'T3', 'T4', 'T5', 'T6', 'T7', 'T8', 'T9', 'T10', 'T11', 'T12'],
                datasets: [{
                  label: 'Điểm TB',
                  data: [7.2, 7.4, 7.5, 7.6, 7.8, 7.7, 7.9, 8.0, 7.9, 8.1, 8.2, 7.8],
                  borderColor: '#001BB7',
                  backgroundColor: 'rgba(0,27,183,0.1)',
                  tension: 0.4,
                  fill: true
                }]
              },
              options: {
                responsive: true,
                maintainAspectRatio: true,
                plugins: {
                  legend: {
                    display: false
                  }
                },
                scales: {
                  y: {
                    beginAtZero: true,
                    max: 10
                  }
                }
              }
            });

            // Score Distribution
            var ctx2 = document.getElementById('scoreDistributionChart').getContext('2d');
            new Chart(ctx2, {
              type: 'bar',
              data: {
                labels: ['0-2', '2-4', '4-6', '6-8', '8-10'],
                datasets: [{
                  label: 'Số học sinh',
                  data: [45, 189, 567, 892, 345],
                  backgroundColor: ['#dc3545', '#ffc107', '#17a2b8', '#0046FF', '#28a745']
                }]
              },
              options: {
                responsive: true,
                maintainAspectRatio: true,
                plugins: {
                  legend: {
                    display: false
                  }
                }
              }
            });

            // Pass Rate Chart
            var ctx3 = document.getElementById('passRateChart').getContext('2d');
            new Chart(ctx3, {
              type: 'doughnut',
              data: {
                labels: ['Đạt', 'Không đạt'],
                datasets: [{
                  data: [78, 22],
                  backgroundColor: ['#28a745', '#dc3545']
                }]
              },
              options: {
                responsive: true,
                maintainAspectRatio: true,
                plugins: {
                  legend: {
                    display: false
                  }
                }
              }
            });
          });
        </script>
    </body>
</html>
