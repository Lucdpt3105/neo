<!DOCTYPE html>
<html lang="vi">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="Hệ thống Quản lý Học tập">
        <meta name="keywords" content="admin,dashboard,education">
        <meta name="author" content="EduAdmin">
        
        <!-- Title -->
        <title>Thống kê Học sinh - EduAdmin</title>

        <!-- Styles -->
        <link href="https://fonts.googleapis.com/css?family=Poppins:400,500,700,800&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <link href="../../assets/plugins/bootstrap/css/bootstrap.min.css" rel="stylesheet">
        <link href="../../assets/plugins/font-awesome/css/all.min.css" rel="stylesheet">
        <link href="../../assets/plugins/perfectscroll/perfect-scrollbar.css" rel="stylesheet">
        <link href="../../assets/plugins/pace/pace.css" rel="stylesheet">
        <link href="../../assets/plugins/DataTables/datatables.min.css" rel="stylesheet">

        <!-- Theme Styles -->
        <link href="../../assets/css/main.min.css" rel="stylesheet">
        <link href="../../assets/css/custom.css" rel="stylesheet">
    </head>
    <body class="">
        <div class="page-container">
          <div class="page-sidebar">
              <a class="logo" href="index.html"><i class="fas fa-graduation-cap"></i> EduAdmin</a>
              <ul class="list-unstyled accordion-menu">
                <li><a href="index.html"><i data-feather="home"></i>Dashboard</a></li>
                <li>
                  <a href="#"><i data-feather="users"></i>Người dùng<i class="fas fa-chevron-right dropdown-icon"></i></a>
                  <ul><li><a href="students.html"><i class="far fa-circle"></i>Học sinh</a></li><li><a href="teachers.html"><i class="far fa-circle"></i>Giáo viên</a></li><li><a href="admins.html"><i class="far fa-circle"></i>Quản trị viên</a></li></ul>
                </li>
                <li>
                  <a href="#"><i data-feather="book-open"></i>Khóa học<i class="fas fa-chevron-right dropdown-icon"></i></a>
                  <ul><li><a href="courses.html"><i class="far fa-circle"></i>Danh sách khóa học</a></li><li><a href="add-course.html"><i class="far fa-circle"></i>Thêm khóa học</a></li><li><a href="categories.html"><i class="far fa-circle"></i>Danh mục</a></li><li><a href="lessons.html"><i class="far fa-circle"></i>Bài học</a></li></ul>
                </li>
                <li>
                  <a href="#"><i data-feather="edit-3"></i>Hệ thống Thi<i class="fas fa-chevron-right dropdown-icon"></i></a>
                  <ul><li><a href="exams.html"><i class="far fa-circle"></i>Danh sách bài thi</a></li><li><a href="add-exam.html"><i class="far fa-circle"></i>Tạo bài thi</a></li><li><a href="questions.html"><i class="far fa-circle"></i>Ngân hàng câu hỏi</a></li><li><a href="exam-results.html"><i class="far fa-circle"></i>Kết quả thi</a></li></ul>
                </li>
                <li>
                  <a href="#"><i data-feather="message-circle"></i>Diễn đàn<i class="fas fa-chevron-right dropdown-icon"></i></a>
                  <ul><li><a href="forum-topics.html"><i class="far fa-circle"></i>Chủ đề thảo luận</a></li><li><a href="forum-posts.html"><i class="far fa-circle"></i>Bài viết</a></li><li><a href="forum-moderate.html"><i class="far fa-circle"></i>Kiểm duyệt</a></li></ul>
                </li>
                <li>
                  <a href="#"><i data-feather="video"></i>Họp nhóm<i class="fas fa-chevron-right dropdown-icon"></i></a>
                  <ul><li><a href="meetings.html"><i class="far fa-circle"></i>Phòng họp</a></li><li><a href="schedule-meeting.html"><i class="far fa-circle"></i>Lịch họp</a></li><li><a href="meeting-history.html"><i class="far fa-circle"></i>Lịch sử họp</a></li></ul>
                </li>
                <li>
                  <a href="#"><i data-feather="file-text"></i>Tài liệu<i class="fas fa-chevron-right dropdown-icon"></i></a>
                  <ul><li><a href="file-manager.html"><i class="far fa-circle"></i>Quản lý file</a></li><li><a href="upload.html"><i class="far fa-circle"></i>Tải lên</a></li></ul>
                </li>
                <li class="active-page">
                  <a href="#"><i data-feather="bar-chart-2"></i>Báo cáo<i class="fas fa-chevron-right dropdown-icon"></i></a>
                  <ul><li><a href="reports-students.html" class="active"><i class="far fa-circle"></i>Thống kê học sinh</a></li><li><a href="reports-courses.html"><i class="far fa-circle"></i>Thống kê khóa học</a></li><li><a href="reports-exams.html"><i class="far fa-circle"></i>Thống kê bài thi</a></li></ul>
                </li>
                <li>
                  <a href="#"><i data-feather="settings"></i>Cài đặt<i class="fas fa-chevron-right dropdown-icon"></i></a>
                  <ul><li><a href="settings-general.html"><i class="far fa-circle"></i>Cài đặt chung</a></li><li><a href="settings-email.html"><i class="far fa-circle"></i>Email</a></li><li><a href="settings-payment.html"><i class="far fa-circle"></i>Thanh toán</a></li></ul>
                </li>
              </ul>
              <a href="#" id="sidebar-collapsed-toggle"><i data-feather="arrow-right"></i></a>
          </div>
            <div class="page-content">
              <div class="page-header">
                  <nav class="navbar navbar-expand-lg d-flex justify-content-between">
                    <div class="header-title flex-fill">
                      <a href="#" id="sidebar-toggle"><i data-feather="arrow-left"></i></a>
                      <h5>Thống kê Học sinh</h5>
                    </div>
                    <div class="flex-fill" id="headerNav">
                      <ul class="navbar-nav">
                        <li class="nav-item dropdown">
                          <a class="nav-link profile-dropdown" href="#" id="profileDropDown" role="button" data-bs-toggle="dropdown"><img src="../../assets/images/avatars/profile-image.png" alt=""></a>
                          <div class="dropdown-menu dropdown-menu-end profile-drop-menu">
                            <a class="dropdown-item" href="#"><i data-feather="user"></i>Hồ sơ</a>
                            <a class="dropdown-item" href="login.html"><i data-feather="log-out"></i>Đăng xuất</a>
                          </div>
                        </li>
                      </ul>
                    </div>
                  </nav>
              </div>
              <div class="main-wrapper">
                <!-- Stats -->
                <div class="row">
                  <div class="col-lg-3 col-md-6">
                    <div class="card stats-card">
                      <div class="card-body">
                        <div class="stats-info"><h5 class="card-title">1,245</h5><p class="stats-text">Tổng học sinh</p></div>
                        <div class="stats-icon change-primary"><i class="material-icons">school</i></div>
                      </div>
                    </div>
                  </div>
                  <div class="col-lg-3 col-md-6">
                    <div class="card stats-card">
                      <div class="card-body">
                        <div class="stats-info"><h5 class="card-title">1,089</h5><p class="stats-text">Đang hoạt động</p></div>
                        <div class="stats-icon change-success"><i class="material-icons">trending_up</i></div>
                      </div>
                    </div>
                  </div>
                  <div class="col-lg-3 col-md-6">
                    <div class="card stats-card">
                      <div class="card-body">
                        <div class="stats-info"><h5 class="card-title">8.5/10</h5><p class="stats-text">Điểm TB chung</p></div>
                        <div class="stats-icon change-info"><i class="material-icons">star</i></div>
                      </div>
                    </div>
                  </div>
                  <div class="col-lg-3 col-md-6">
                    <div class="card stats-card">
                      <div class="card-body">
                        <div class="stats-info"><h5 class="card-title">92%</h5><p class="stats-text">Tỷ lệ hoàn thành</p></div>
                        <div class="stats-icon change-warning"><i class="material-icons">fact_check</i></div>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- Filter -->
                <div class="row mb-4">
                  <div class="col-12">
                    <div class="card">
                      <div class="card-body">
                        <div class="row align-items-end">
                          <div class="col-md-3">
                            <label class="form-label">Lớp học</label>
                            <select class="form-select">
                              <option value="">Tất cả</option>
                              <option>Lớp 12A1</option>
                              <option>Lớp 11B2</option>
                              <option>Lớp 10C3</option>
                            </select>
                          </div>
                          <div class="col-md-3">
                            <label class="form-label">Môn học</label>
                            <select class="form-select">
                              <option value="">Tất cả</option>
                              <option>Toán</option>
                              <option>Vật lý</option>
                              <option>Tiếng Anh</option>
                            </select>
                          </div>
                          <div class="col-md-2">
                            <label class="form-label">Từ ngày</label>
                            <input type="date" class="form-control">
                          </div>
                          <div class="col-md-2">
                            <label class="form-label">Đến ngày</label>
                            <input type="date" class="form-control">
                          </div>
                          <div class="col-md-2">
                            <button class="btn btn-primary w-100"><i class="fas fa-search me-2"></i>Lọc</button>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="row">
                  <!-- Performance Chart -->
                  <div class="col-lg-8">
                    <div class="card mb-4">
                      <div class="card-header">
                        <h5 class="card-title mb-0">Biểu đồ thành tích học tập</h5>
                      </div>
                      <div class="card-body">
                        <canvas id="performanceChart" height="80"></canvas>
                      </div>
                    </div>

                    <!-- Top Students -->
                    <div class="card">
                      <div class="card-header">
                        <h5 class="card-title mb-0"><i class="fas fa-trophy text-warning me-2"></i>Học sinh xuất sắc</h5>
                      </div>
                      <div class="card-body">
                        <div class="table-responsive">
                          <table class="table table-hover">
                            <thead>
                              <tr>
                                <th width="5%">Hạng</th>
                                <th width="30%">Họ tên</th>
                                <th width="15%">Lớp</th>
                                <th width="15%">Điểm TB</th>
                                <th width="15%">Khóa học</th>
                                <th width="20%">Thành tích</th>
                              </tr>
                            </thead>
                            <tbody>
                              <tr>
                                <td><span class="badge bg-warning"><i class="fas fa-trophy"></i> 1</span></td>
                                <td><strong>Nguyễn Văn A</strong></td>
                                <td>12A1</td>
                                <td><span class="badge bg-success">9.8</span></td>
                                <td>12/12</td>
                                <td>
                                  <div class="progress" style="height: 6px;">
                                    <div class="progress-bar bg-success" style="width: 98%"></div>
                                  </div>
                                  <small class="text-muted">98% hoàn thành</small>
                                </td>
                              </tr>
                              <tr>
                                <td><span class="badge bg-secondary"><i class="fas fa-medal"></i> 2</span></td>
                                <td><strong>Trần Thị B</strong></td>
                                <td>11B2</td>
                                <td><span class="badge bg-success">9.6</span></td>
                                <td>10/10</td>
                                <td>
                                  <div class="progress" style="height: 6px;">
                                    <div class="progress-bar bg-success" style="width: 96%"></div>
                                  </div>
                                  <small class="text-muted">96% hoàn thành</small>
                                </td>
                              </tr>
                              <tr>
                                <td><span class="badge" style="background-color: #CD7F32;"><i class="fas fa-award"></i> 3</span></td>
                                <td><strong>Lê Văn C</strong></td>
                                <td>12A1</td>
                                <td><span class="badge bg-success">9.5</span></td>
                                <td>11/12</td>
                                <td>
                                  <div class="progress" style="height: 6px;">
                                    <div class="progress-bar bg-success" style="width: 95%"></div>
                                  </div>
                                  <small class="text-muted">95% hoàn thành</small>
                                </td>
                              </tr>
                            </tbody>
                          </table>
                        </div>
                      </div>
                    </div>
                  </div>

                  <!-- Stats Cards -->
                  <div class="col-lg-4">
                    <!-- Grade Distribution -->
                    <div class="card mb-4">
                      <div class="card-header">
                        <h5 class="card-title mb-0">Phân bố điểm</h5>
                      </div>
                      <div class="card-body">
                        <canvas id="gradeDistribution"></canvas>
                      </div>
                    </div>

                    <!-- Activity Stats -->
                    <div class="card mb-4">
                      <div class="card-header">
                        <h5 class="card-title mb-0">Hoạt động học tập</h5>
                      </div>
                      <div class="card-body">
                        <div class="mb-3">
                          <div class="d-flex justify-content-between mb-1">
                            <span>Bài tập hoàn thành</span>
                            <strong>87%</strong>
                          </div>
                          <div class="progress" style="height: 8px;">
                            <div class="progress-bar bg-primary" style="width: 87%"></div>
                          </div>
                        </div>
                        <div class="mb-3">
                          <div class="d-flex justify-content-between mb-1">
                            <span>Tham gia lớp học</span>
                            <strong>92%</strong>
                          </div>
                          <div class="progress" style="height: 8px;">
                            <div class="progress-bar bg-success" style="width: 92%"></div>
                          </div>
                        </div>
                        <div class="mb-3">
                          <div class="d-flex justify-content-between mb-1">
                            <span>Diễn đàn tham gia</span>
                            <strong>65%</strong>
                          </div>
                          <div class="progress" style="height: 8px;">
                            <div class="progress-bar bg-info" style="width: 65%"></div>
                          </div>
                        </div>
                        <div>
                          <div class="d-flex justify-content-between mb-1">
                            <span>Nộp bài đúng hạn</span>
                            <strong>78%</strong>
                          </div>
                          <div class="progress" style="height: 8px;">
                            <div class="progress-bar bg-warning" style="width: 78%"></div>
                          </div>
                        </div>
                      </div>
                    </div>

                    <!-- Quick Stats -->
                    <div class="card">
                      <div class="card-header">
                        <h5 class="card-title mb-0">Thống kê nhanh</h5>
                      </div>
                      <div class="card-body">
                        <ul class="list-group list-group-flush">
                          <li class="list-group-item d-flex justify-content-between px-0">
                            <span><i class="fas fa-user-graduate text-primary me-2"></i>Học sinh mới</span>
                            <strong>23</strong>
                          </li>
                          <li class="list-group-item d-flex justify-content-between px-0">
                            <span><i class="fas fa-user-check text-success me-2"></i>Đang học</span>
                            <strong>1,089</strong>
                          </li>
                          <li class="list-group-item d-flex justify-content-between px-0">
                            <span><i class="fas fa-user-clock text-warning me-2"></i>Tạm nghỉ</span>
                            <strong>45</strong>
                          </li>
                          <li class="list-group-item d-flex justify-content-between px-0">
                            <span><i class="fas fa-user-times text-danger me-2"></i>Đã rời</span>
                            <strong>111</strong>
                          </li>
                        </ul>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- Detailed Table -->
                <div class="row mt-4">
                  <div class="col-12">
                    <div class="card">
                      <div class="card-header d-flex justify-content-between align-items-center">
                        <h5 class="card-title mb-0">Chi tiết học sinh</h5>
                        <div>
                          <button class="btn btn-sm btn-outline-primary me-2"><i class="fas fa-download me-2"></i>Xuất Excel</button>
                          <button class="btn btn-sm btn-outline-secondary"><i class="fas fa-print me-2"></i>In báo cáo</button>
                        </div>
                      </div>
                      <div class="card-body">
                        <div class="table-responsive">
                          <table class="table table-hover" id="studentReportTable">
                            <thead>
                              <tr>
                                <th>Họ tên</th>
                                <th>Lớp</th>
                                <th>Email</th>
                                <th>Điểm TB</th>
                                <th>Hoàn thành</th>
                                <th>Tham gia</th>
                                <th>Trạng thái</th>
                              </tr>
                            </thead>
                            <tbody>
                              <tr>
                                <td><strong>Nguyễn Văn A</strong></td>
                                <td>12A1</td>
                                <td>nguyenvana@email.com</td>
                                <td><span class="badge bg-success">9.8</span></td>
                                <td>98%</td>
                                <td>95%</td>
                                <td><span class="badge bg-success">Xuất sắc</span></td>
                              </tr>
                              <tr>
                                <td><strong>Trần Thị B</strong></td>
                                <td>11B2</td>
                                <td>tranthib@email.com</td>
                                <td><span class="badge bg-success">9.6</span></td>
                                <td>96%</td>
                                <td>92%</td>
                                <td><span class="badge bg-success">Xuất sắc</span></td>
                              </tr>
                              <tr>
                                <td><strong>Lê Văn C</strong></td>
                                <td>12A1</td>
                                <td>levanc@email.com</td>
                                <td><span class="badge bg-success">9.5</span></td>
                                <td>95%</td>
                                <td>90%</td>
                                <td><span class="badge bg-success">Xuất sắc</span></td>
                              </tr>
                              <tr>
                                <td><strong>Phạm Văn D</strong></td>
                                <td>10C3</td>
                                <td>phamvand@email.com</td>
                                <td><span class="badge bg-info">8.5</span></td>
                                <td>88%</td>
                                <td>85%</td>
                                <td><span class="badge bg-info">Khá</span></td>
                              </tr>
                              <tr>
                                <td><strong>Hoàng Thị E</strong></td>
                                <td>11B2</td>
                                <td>hoangthie@email.com</td>
                                <td><span class="badge bg-info">8.2</span></td>
                                <td>85%</td>
                                <td>82%</td>
                                <td><span class="badge bg-info">Khá</span></td>
                              </tr>
                            </tbody>
                          </table>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
        </div>

        <!-- Javascripts -->
        <script src="../../assets/plugins/jquery/jquery-3.4.1.min.js"></script>
        <script src="https://unpkg.com/@popperjs/core@2"></script>
        <script src="../../assets/plugins/bootstrap/js/bootstrap.min.js"></script>
        <script src="https://unpkg.com/feather-icons"></script>
        <script src="../../assets/plugins/perfectscroll/perfect-scrollbar.min.js"></script>
        <script src="../../assets/plugins/pace/pace.min.js"></script>
        <script src="../../assets/plugins/DataTables/datatables.min.js"></script>
        <script src="../../assets/plugins/chartjs/chart.bundle.min.js"></script>
        <script src="../../assets/js/main.min.js"></script>
        <script>
          $(document).ready(function() {
            $('#studentReportTable').DataTable({
              language: {
                url: '//cdn.datatables.net/plug-ins/1.10.24/i18n/Vietnamese.json'
              }
            });

            // Performance Chart
            var ctx1 = document.getElementById('performanceChart').getContext('2d');
            new Chart(ctx1, {
              type: 'line',
              data: {
                labels: ['T1', 'T2', 'T3', 'T4', 'T5', 'T6', 'T7', 'T8', 'T9', 'T10', 'T11', 'T12'],
                datasets: [{
                  label: 'Điểm TB',
                  data: [7.5, 7.8, 8.0, 8.2, 8.5, 8.3, 8.6, 8.7, 8.5, 8.8, 8.9, 8.5],
                  borderColor: '#001BB7',
                  backgroundColor: 'rgba(0,27,183,0.1)',
                  tension: 0.4
                }, {
                  label: 'Tỷ lệ hoàn thành',
                  data: [85, 87, 88, 90, 91, 89, 92, 93, 91, 94, 95, 92],
                  borderColor: '#0046FF',
                  backgroundColor: 'rgba(0,70,255,0.1)',
                  tension: 0.4
                }]
              },
              options: {
                responsive: true,
                maintainAspectRatio: true,
                plugins: {
                  legend: {
                    position: 'top'
                  }
                }
              }
            });

            // Grade Distribution
            var ctx2 = document.getElementById('gradeDistribution').getContext('2d');
            new Chart(ctx2, {
              type: 'doughnut',
              data: {
                labels: ['Xuất sắc (9-10)', 'Giỏi (8-8.9)', 'Khá (7-7.9)', 'TB (5-6.9)', 'Yếu (<5)'],
                datasets: [{
                  data: [25, 35, 28, 10, 2],
                  backgroundColor: ['#28a745', '#0046FF', '#17a2b8', '#ffc107', '#dc3545']
                }]
              },
              options: {
                responsive: true,
                maintainAspectRatio: true,
                plugins: {
                  legend: {
                    position: 'bottom'
                  }
                }
              }
            });
          });
        </script>
    </body>
</html>
